{% extends "base.html" %}
{% block title %}Study{% endblock %}
{% block content %}

<link rel="stylesheet" type="text/css" href="/style/study.css">

<div class="card">
    <div class="question">Hey hey</div>
    <div class="input-group">
      <input id="answer-input" type="text" placeholder="Answer" class="form-control" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
      <span class="input-group-btn">
        <button id="submit-answer" class="btn btn-primary" type="button">Submit</button>
      </span>
    </div><!-- /input-group -->
    <!-- </div> -->
    <div class="card-footer" style="
    border-top: 1px solid lightgray;
    margin-left: -15px;
    margin-right: -15px;
    margin-bottom: -15px;
    margin-top: 15px;
    padding: 10px 15px;
    background-color: #F7F7F7;
    height: 46px;
    ">
        <div id="incorrect-label" style="display: none;">Incorrect</div>
        <div id="correct-label" style="display: none;">Correct</div>
    </div>
</div>

<script>
    // display elapsed time in the lower right
    // should definitely store this data in a cookie...
    // as well as whether the metronome is on
    function startTime(secondsSince) {
        var seconds = secondsSince %  60;
        var minutes = Math.floor(secondsSince /  60);
        var hours = Math.floor(secondsSince / 60 / 60);

        var time = pad(minutes) + ":" + pad(seconds);
        if (hours > 1) {
            time = hours + ":" + time
        }

        document.getElementById('timer').innerHTML = time;

        var t = setTimeout(function() { startTime(secondsSince + 1); }, 1000);
    }
    function pad(i) {
        if (i < 10) {i = "0" + i};  // add zero in front of numbers < 10
        return i;
    }

    $(document).ready(function () {
        startTime(0);
    })  
</script>

<div id="timer"></div>

<script src="/js/lib/webmidi.min.js"></script>
<script src="/js/bundle.js"></script>
<script type="text/javascript">
    var game = new Game({{ session_id }}, {{ deck.deck_id }});
    game.loadNextQuestion();
</script>


{% include 'metronome/metronome.html' %}

{% endblock %}